# GGLuaTool

# *å¯»æ‰¾åˆä½œè€…ä¸­*ï¼ç›®å‰ä¸€ä¸ªäººå‘¨æœ«æŠ½ç©ºå†™æ•ˆç‡ä½ä¸‹ï¼Œæ€¥éœ€åˆä½œè€…ã€‚

# æ¬¢è¿è”ç³»ï¼š

# qq:2185125049

# email:mitchell0yr@gmail.com

## ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªæ‚ ç„¶åˆ¶ä½œçš„GGluaè„šæœ¬å·¥å…·ã€‚ç”¨äºç¼–å†™ã€ç¼–è¯‘ä¸åç¼–è¯‘ã€åŠ å¯†é€‚ç”¨äºGameGuardiançš„luaè„šæœ¬çš„å·¥å…·ã€‚  
æ­¤è½¯ä»¶ç›®å‰åªæœ‰éƒ¨åˆ†åŠŸèƒ½ï¼Œå°†åœ¨è¿‘æœŸåŠ å…¥æ›´å¤šåŠŸèƒ½ã€‚æ­£åœ¨æŒç»­æ›´æ–°ï¼

æ­¤è½¯ä»¶ç”±AndroidStudioä½¿ç”¨äº†javaåˆ¶ä½œã€‚

## ä¸»è¦äº‹é¡¹

è¯·éµå®ˆå¼€æºåè®®ï¼æ­¤è½¯ä»¶ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ï¼Œ**ç¦æ­¢ç”¨äºè¿æ³•ç”¨é€”**(å¦‚åˆ¶ä½œæ¸¸æˆå¤–æŒ‚ç­‰éæ³•ç”¨é€”)ï¼Œè‹¥é€ æˆä»»ä½•åæœä¸å¼€å‘è€…æ— å…³
æ­¤é¡¹ç›®ä½¿ç”¨äº†deepseekã€claudeã€geminiè¾…åŠ©ï¼Œè¯·æŒ‰ç…§ã€Šäººå·¥æ™ºèƒ½ç”Ÿæˆåˆæˆå†…å®¹æ ‡è¯†åŠæ³•ã€‹ç­‰æ³•è§„æ ‡è¯†ç”Ÿæˆå¼äººå·¥æ™ºèƒ½ä½¿ç”¨

## ä½¿ç”¨æ–¹æ³•

> - å¼€è¢‹å³é£Ÿï¼ˆbushiï¼‰
> - åœ¨Android Studioæ‰“å¼€ï¼Œæ³¨æ„gradleå’Œjavaç‰ˆæœ¬

#### ç›®å‰åŠŸèƒ½

- è„šæœ¬ç¼–è¾‘å™¨ï¼ˆåŸºäºsora-editorï¼Œæ”¯æŒä»£ç è¡¥å…¨ã€è¯­æ³•é«˜äº®ç­‰ç­‰ï¼‰
- æ”¯æŒä¸€ä»¶æ’å…¥è„šæœ¬æ¨¡æ¿
- æ’ä»¶æ­£åœ¨é‡å†™æ”¯æŒ
- ä¸¤ç§luaå­—èŠ‚ç åç¼–è¯‘ï¼šunluacå’ŒTDï¼ˆunluacåŒ…é‡åˆ°æŠ€æœ¯æ€§é—®é¢˜æ­£åœ¨è§£å†³ä¸­ï¼‰
- æ”¯æŒç¼–è¯‘è„šæœ¬ï¼Œæ·»åŠ åŠ å¯†
- è¯­æ³•æ£€æŸ¥
- å¯è§†åŒ–luaç¼–è¾‘
- å†…ç½®æ”¯æŒggå‡½æ•°çš„luaè™šæ‹Ÿæœºï¼ˆå¯ç”¨äºè¿‡é˜²å¾¡ã€åæ£€æµ‹çš„è„šæœ¬å‡½æ•°è°ƒç”¨è‡ªåå’ŒåŠ¨æ€è°ƒè¯•ï¼Œæœªæ¥ä¼šåŠ å…¥æ’æ¡©ã€å˜é‡è¿½è¸ªç­‰ï¼‰
- #### æ³¨æ„ï¼šè¿™äº›æ›´æ–°éšæ—¶å¯èƒ½å˜åŠ¨
  
#### å³å°†æ”¯æŒåŠŸèƒ½
  
  - cppä¸€é”®ç”Ÿæˆã€ç¼–è¯‘ï¼ˆé‰´äºä½“é‡ï¼Œå¯èƒ½ä¼šå–æ¶ˆä¸€ä»¶ç¼–è¯‘ï¼‰
    
  - æ„å»ºç›´è£…ï¼ˆé•¿æœŸï¼‰
    
  - æ„å»ºå‘è¡Œå“ï¼ˆç”Ÿæˆå†…ç½®è„šæœ¬çš„GGå®¢æˆ·ç«¯ï¼Œä¸”å¯è‡ªé€‰é™„åŠ å‡½æ•°ï¼‰ï¼ˆåœ¨è®¡åˆ’ä¸­ï¼‰
    
  - æ›´é«˜ç­‰çº§çš„åŠ å¯†
  
  - åŸºäºå†…ç½®luajçš„å³æ—¶åŠ¨æ€è°ƒè¯• 

  - å†…ç½®æ¡†æ¶ï¼ˆåŸºäºspacecoreï¼ˆå®‰å“9åˆ°14æ”¯æŒï¼‰ã€‚ç”±äºblackboxæ²¡åšå¥½ggé€‚é…ï¼Œä¼šåœ¨åç»­ç‰ˆæœ¬åŠ å…¥ã€‚å¦‚æœæœ‰æ›´å¥½çš„å¼€æºå…è´¹æ¡†æ¶æ¬¢è¿æ¨èï¼‰

### å¦‚ä½•æ·»åŠ æ–°çš„ä»£ç å—ç±»å‹


#### 1. åœ¨ `CodeBlockType.java` ä¸­æ·»åŠ æ–°æšä¸¾

```java
public enum CodeBlockType {
    // ... ç°æœ‰ä»£ç å— ...
    
    // æ·»åŠ å†…å®¹

    
    
    // ... æ„é€ å‡½æ•°å’Œå…¶ä»–æ–¹æ³•ä¿æŒä¸å˜ ...
}
```

#### 2. åœ¨ `CodeBlockStructure.java` ä¸­å®šä¹‰ç»“æ„

åœ¨ `getStructure()` æ–¹æ³•çš„ `switch` è¯­å¥ä¸­æ·»åŠ ï¼š

```java
public static CodeBlockStructure getStructure(CodeBlockType type) {
    CodeBlockStructure structure = new CodeBlockStructure();

    switch (type) {
        // ... ç°æœ‰case ...
        
        // IOæ“ä½œ
        case FILE_OPEN:
            return structure.addLabel("æ‰“å¼€æ–‡ä»¶")
                    .addInput("æ–‡ä»¶å")
                    .addLabel("æ¨¡å¼")
                    .addInput("r/w/a");

        case FILE_READ:
            return structure.addLabel("è¯»å–æ–‡ä»¶å†…å®¹åˆ°")
                    .addInput("å˜é‡å");

        case FILE_WRITE:
            return structure.addLabel("å†™å…¥å†…å®¹")
                    .addInput("å†…å®¹");

        case FILE_CLOSE:
            return structure.addLabel("å…³é—­æ–‡ä»¶");

        default:
            return structure.addInput("å†…å®¹");
    }
}
```

#### 3. åœ¨ `generateCode()` æ–¹æ³•ä¸­æ·»åŠ ä»£ç ç”Ÿæˆé€»è¾‘

```java
public static String generateCode(CodeBlockType type, List<Part> parts) {
    StringBuilder code = new StringBuilder();

    switch (type) {
        // ... ç°æœ‰case ...
        
        // IOæ“ä½œ
        case FILE_OPEN:
            code.append("file, err = io.open(")
                    .append(getInputValue(parts, 0))
                    .append(", \"")
                    .append(getInputValue(parts, 1))
                    .append("\")");
            break;

        case FILE_READ:
            code.append(getInputValue(parts, 0))
                    .append(" = file:read(\"*a\")");
            break;

        case FILE_WRITE:
            code.append("file:write(")
                    .append(getInputValue(parts, 0))
                    .append(")");
            break;

        case FILE_CLOSE:
            code.append("file:close()");
            break;
            

        default:
            code.append(getInputValue(parts, 0));
            break;
    }

    return code.toString();
}
```

#### 4. åœ¨ `CodeBlockTypeItem.java` ä¸­æ·»åŠ åˆ†ç±»

åœ¨ `createAllCategories()` æ–¹æ³•ä¸­æ·»åŠ æ–°åˆ†ç±»ï¼š

```java
public static List<CodeBlockTypeItem> createAllCategories() {
    List<CodeBlockTypeItem> categories = new ArrayList<>();

    // ... ç°æœ‰åˆ†ç±» ...

    // IOæ“ä½œåˆ†ç±»
    CodeBlockTypeItem ioOps = new CodeBlockTypeItem("ğŸ“ æ–‡ä»¶IOæ“ä½œ");
    ioOps.addBlockType(CodeBlockType.FILE_OPEN);
    ioOps.addBlockType(CodeBlockType.FILE_READ);
    ioOps.addBlockType(CodeBlockType.FILE_WRITE);
    ioOps.addBlockType(CodeBlockType.FILE_CLOSE);
    categories.add(ioOps);


    return categories;
}
```
#### æ³¨æ„äº‹é¡¹

1. **é¢œè‰²é€‰æ‹©**ï¼šä¸ºåŒä¸€ç±»æ“ä½œä½¿ç”¨ç›¸åŒé¢œè‰²ä¾¿äºè¯†åˆ«
2. **é»˜è®¤å€¼**ï¼šæä¾›åˆç†çš„é»˜è®¤å€¼å¸®åŠ©ç”¨æˆ·ç†è§£
3. **æç¤ºæ–‡æœ¬**ï¼šä½¿ç”¨æ¸…æ™°çš„ä¸­æ–‡æç¤º
4. **ä»£ç ç”Ÿæˆ**ï¼šç¡®ä¿ç”Ÿæˆçš„Luaä»£ç è¯­æ³•æ­£ç¡®
5. **æµ‹è¯•**ï¼šæ·»åŠ åè¦æµ‹è¯•ç”Ÿæˆçš„ä»£ç æ˜¯å¦å¯ç”¨

è¿™æ ·å°±å¯ä»¥æ— é™æ‰©å±•ä½ çš„å¯è§†åŒ–ç¼–è¾‘å™¨äº†ï¼
