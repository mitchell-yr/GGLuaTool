# 插件开发文档
## 注意事项
- 插件是此脚本编辑器的重要功能和独特优势之一(我已知的lua编辑器中没有可以加插件的！)
- 此软件所适用的插件必须严格遵循插件格式来制作
- 对于非官方插件，我不能保证其安全性，因为一个插件可能会：
> 包含二进制(.so)文件，这可能会危害您的计算机

> 对脚本中的字符进行替换，这可能会导致代码错误或丢失

> 包含自定义函数，这可能会导致已有函数失效或冲突

> 访问互联网，这可能会导致隐私泄露

因此，请在使用某一插件前排查其安全性，对于非官方插件，我概不负责
- 插件功能属于测试功能，可能会导致不可逆后果，包括但不限于代码丢失，故请谨慎使用，我们概不负责
## 原理
插件主要分为三个部分：
1. replace(替换)
2. inject(注入)
3. extra-code(额外代码)

部分1`replace`主要依靠正则表达式来进行代码批量替换。
这可以用于中文编写lua，例如将`if xxx then`替换为`如果 xxx 那么`

部分2`inject`主要是在脚本前部注入一些代码。
这可以实现一些额外预制函数，以及在编译时添加防破解防御

部分3`extra-code`主要是在编译时执行一些特殊代码，用于处理复杂数据。
当匹配规则过于复杂或参数位置有区别时，普通的正则就无法满足需要了，此时就需要额外代码。
其主要是在完成`replace`之后，执行二进制文(.so)文件或lua代码(仅限标准库)。
软件会输入此脚本，待额外代码处理完成后输出输出结果

** 注意，处理优先级为`inject`>`extra-code`>`replace` **
